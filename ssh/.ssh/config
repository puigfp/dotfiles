## BEGIN -- workspaces cli
## Generated content -- do not remove
# NOTE: This is at the top to ensure that other user or generated settings do
# not affect workspace connections.
# If you'd like to make changes that apply to all workspaces, see the comments
# in 00-common.conf alongside the included files below
Include /Users/francisco.puig/.ssh/workspaces/*
## END -- workspaces cli

# BEGIN ANSIBLE MANAGED BLOCK
# Host *
#     # IPv4 only for speed
#     AddressFamily inet
#     Compression yes
#     ControlMaster auto
#     ControlPath /tmp/ssh_mux_%h_%p_%r
#     ControlPersist 10m
#     # send a keep-alive after 30s of inactivity
#     ServerAliveInterval 30
# END ANSIBLE MANAGED BLOCK

Host github-personal
    User git
    HostName github.com
    IdentityFile ~/.ssh/id_rsa_personal
    PreferredAuthentications publickey

# datadog
Host dd.*
    User francisco.puig
    IdentityFile ~/.ssh/id_rsa
    ForwardAgent yes
    ControlPath ~/.ssh/controlmasters/%C
    ControlMaster auto
    ControlPersist 10m

Host dd.prd
    Hostname jumpbox.datadoghq.com

Host dd.stg
    Hostname jumpbox.datad0g.com

Host dd.stg.*
  ProxyCommand ssh -q -A dd.stg -W `echo %h | cut -d. -f3-`.datadog.service.consul:%p
  StrictHostKeyChecking no
  UserKnownHostsFile /dev/null

Host dd.prd.*
  ProxyCommand ssh -q -A dd.prd -W `echo %h | cut -d. -f3-`.datadog.service.consul:%p
  StrictHostKeyChecking no
  UserKnownHostsFile /dev/null

Host dd.s.i*
    ProxyCommand ssh -q -A dd.stg -W `echo %h | cut -d. -f3-`.node.consul:%p

Host dd.p.i*
    ProxyCommand ssh -q -A dd.prd -W `echo %h | cut -d. -f3-`.node.consul:%p

# dogbox
# output of `vagrant ssh-config`, this is much faster than `vagrant ssh`
Host vagrant
    HostName 127.0.0.1
    User vagrant
    Port 2222
    UserKnownHostsFile /dev/null
    StrictHostKeyChecking no
    PasswordAuthentication no
    IdentityFile /Users/francisco.puig/go/src/github.com/DataDog/.vagrant/machines/default/virtualbox/private_key
    IdentitiesOnly yes
    LogLevel FATAL
    ForwardAgent yes

Host * !github-personal
    IdentityFile ~/.ssh/id_rsa

Host github-personal github.com
    IdentitiesOnly yes

Host *
    AddKeysToAgent yes
    IdentitiesOnly false
    UseKeychain yes
